<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>challenge</title>
</head>

<body>
    <h1>Challenge datos</h1>

</body>
<script>
    //Transformacion de Datos de Estudiantes

    /*
    Dado un array de objetos que representa estudiantes y sus calificaciones:
    - Cada estudiante tiene un nombre y un array de calificaciones
    - Las calificaciones son numeros del 0 al 100

    TAREAS:
    1. Calcular el promedio de cada estudiante
    2. Encontrar el estudiante con el promedio mas alto
    3. Agrupar estudiantes en categorias segun su promedio:
    - EXCELENTE: 90 - 100
    - BUENO: 80 - 89
    - REGULAR: 70 - 79
    - NECESITA MEJORAR: <70
    
    DATOS DE EJEMPLO:

    */
    const estudiantes = [
        { nombre: "Ana", calificaciones: [90, 85, 88, 92] },
        { nombre: "Luis", calificaciones: [75, 70, 82, 78] },
        { nombre: "Carlos", calificaciones: [95, 92, 89, 94] },
        { nombre: "Maria", calificaciones: [70, 72, 68, 74] },
    ]

    function analizarEstudiantes(estudiantes) {
        // 1. calcular promedios
        const promedios = {}
        for (let estudiante of estudiantes) {
            let suma = 0
            for (let nota of estudiante.calificaciones) {
                suma += nota
            }
            promedios[estudiante.nombre] = suma / estudiante.calificaciones.length
        }
        // 2. Encontrar el mejor promedio
        let mejorEstudiante = null;
        let mejorPromedio = -1;
        for (let nombre in promedios) {
            if (promedios[nombre] > mejorPromedio) {
                mejorPromedio = promedios[nombre]
                mejorEstudiante = nombre
            }
        }
        //Agrupar por categorias
        const categorias = {
            excelente: [],
            bueno: [],
            regular: [],
            necesitaMejorar: []
        }

        for (let nombre in promedios) {
            const promedio = promedios[nombre]
            if (promedio >= 90) categorias.excelente.push(nombre)
            else if (promedio >= 80) categorias.bueno.push(nombre)
            else if (promedio >= 70) categorias.regular.push(nombre)
            else categorias.necesitaMejorar.push(nombre)
        }


        console.log(promedios)
        console.log(mejorEstudiante)
        console.log(categorias)
    }
    analizarEstudiantes(estudiantes)

</script>

</html>